@prefix form: <http://lblod.data.gift/vocabularies/forms/> .
@prefix sh: <http://www.w3.org/ns/shacl#>.
@prefix dct: <http://purl.org/dc/terms/> .
@prefix mu: <http://mu.semte.ch/vocabularies/core/> .
@prefix ext: <http://mu.semte.ch/vocabularies/ext/> .
@prefix fieldGroups: <http://data.lblod.info/field-groups/> .
@prefix fields: <http://data.lblod.info/fields/> .
@prefix displayTypes: <http://lblod.data.gift/display-types/> .
@prefix eli: <http://data.europa.eu/eli/ontology#>.
@prefix besluit: <http://data.vlaanderen.be/ns/besluit#>.
@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix prov: <http://www.w3.org/ns/prov#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix lblodBesluit: <http://lblod.data.gift/vocabularies/besluit/> .
@prefix besluit: <http://data.vlaanderen.be/ns/besluit#>.
@prefix mandaat: <http://data.vlaanderen.be/ns/mandaat#>.
@prefix elod: <http://linkedeconomy.org/ontology#>.
@prefix skos: <http://www.w3.org/2004/02/skos/core#>.
@prefix nfo: <http://www.semanticdesktop.org/ontologies/2007/03/22/nfo#> .
@prefix nie: <http://www.semanticdesktop.org/ontologies/2007/01/19/nie#>.
# conditional fields are dynamic
# TODO: fix groups (probably) too

# TODO: extra validation: Only specific type of dossier should be availible to specific type of bestuurseenheid.
# TODO: the list of dossiers to propose should differ from bestuurseenheidType to bestuurseenheidtype
fields:0827fafe-ad19-49e1-8b2e-105d2c08a54a a form:Field ;
    mu:uuid "0827fafe-ad19-49e1-8b2e-105d2c08a54a" ;
    sh:name "Type dossier" ;
    sh:order 100 ;
    sh:path rdf:type ;
    form:validations
      [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:path rdf:type ;
        sh:resultMessage "Dit veld is verplicht."@nl
      ],
      [ a form:ConceptSchemeConstraint ;
        form:grouping form:Bag ;
        sh:path rdf:type ;
        form:conceptScheme <http://lblod.data.gift/concept-schemes/71e6455e-1204-46a6-abf4-87319f58eaa5> ;
        sh:resultMessage "Er dient exact 1 waarde voor type besluit te worden ingevuld."@nl
      ] ;
    form:options  """{"conceptScheme":"http://lblod.data.gift/concept-schemes/71e6455e-1204-46a6-abf4-87319f58eaa5"}""" ;
    form:displayType displayTypes:conceptSchemeSelector ;
    sh:group fields:aDynamicPropertyGroup .

fields:0cdfe85f-ec65-498f-bd26-0ec611967de0 a form:Field ;
    mu:uuid "0cdfe85f-ec65-498f-bd26-0ec611967de0" ;
    sh:name "Opmerking" ;
    sh:order 500 ;
    sh:path rdfs:comment ;
    form:displayType displayTypes:textArea ;
    sh:group fields:aDynamicPropertyGroup .

fields:bd6ee5ac-22d6-4279-bcba-3ed279021aac a form:Field ;
    mu:uuid "bd6ee5ac-22d6-4279-bcba-3ed279021aac" ;
    sh:name "Dossieromschrijving" ;
    sh:order 600 ;
    sh:path dct:description ;
    form:displayType displayTypes:textArea ;
    sh:group fields:aDynamicPropertyGroup .

fields:a8f6a6cb-dbb8-488c-878d-05603791a9eb a form:Field ;
    mu:uuid "a8f6a6cb-dbb8-488c-878d-05603791a9eb" ;
    sh:name "Gaat het over het origineel document of over een wijziging?" ;
    sh:order 700 ;
    sh:path lblodBesluit:authenticityType ;
    form:validations
      [ a form:ConceptSchemeConstraint ; #TODO
        form:grouping form:Bag ;
        sh:path lblodBesluit:authenticityType ;
        form:conceptScheme <http://lblod.data.gift/concept-schemes/5cecec47-ba66-4d7a-ac9d-a1e7962ca4e2> ;
        sh:resultMessage "De waarde komt niet uit de opgegeven codelijst."@nl
      ] ;
    form:options  """{"conceptScheme":"http://lblod.data.gift/concept-schemes/5cecec47-ba66-4d7a-ac9d-a1e7962ca4e2"}""" ;
    form:displayType displayTypes:conceptSchemeSelector ;
    sh:group fields:aDynamicPropertyGroup .

fields:6ffb0ed7-769a-41e4-b5a9-f6fb0287b235 a form:Field ;
    mu:uuid "6ffb0ed7-769a-41e4-b5a9-f6fb0287b235" ;
    sh:name "Ondernemingsnummer betreffend bedrijf/bestuur" ;
    sh:order 900 ;
    sh:path ( eli:is_about dct:identifier) ;
    form:displayType displayTypes:defaultInput;
    sh:group fields:aDynamicPropertyGroup .

fields:78bfbd91-0778-4573-a52d-4c53b3c512eb a form:Field ;
    mu:uuid "78bfbd91-0778-4573-a52d-4c53b3c512eb" ;
    sh:name "Naam betreffend bedrijf/bestuur" ;
    sh:order 1000 ;
    sh:path ( eli:is_about skos:prefLabel) ;
    form:validations
      [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:path ( eli:is_about skos:prefLabel ) ;
        sh:resultMessage "Dit veld is verplicht."@nl
      ];
    form:displayType displayTypes:defaultInput;
    sh:group fields:aDynamicPropertyGroup .

fields:41737f90-02d6-4036-8d60-5d5b6ccf939c a form:Field ;
    mu:uuid "41737f90-02d6-4036-8d60-5d5b6ccf939c" ;
    sh:name "Rapportjaar" ;
    sh:order 1800 ;
    sh:path elod:financialYear ;
    form:validations
      [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:path elod:financialYear ;
        sh:resultMessage "Dit veld is verplicht."@nl
      ],
      [ a form:ValidYear ;
        form:grouping form:MatchEvery ;
        sh:path elod:financialYear ;
        sh:resultMessage "Geef een geldig jaar op."@n ] ;
    form:displayType displayTypes:defaultInput ;
    sh:group fields:aDynamicPropertyGroup .

fields:bffbea8d-e55b-4e3d-86e8-ba7aaee7863d a form:Field ;
    mu:uuid "bffbea8d-e55b-4e3d-86e8-ba7aaee7863d" ;
    sh:name "Welk beslissingsorgaan nam het besluit?" ;
    sh:order 2000 ;
    sh:path eli:passed_by ;
    form:validations
      [ a form:AdminstrativeUnitCodelistConstraint ; #TODO
        form:grouping form:MatchEvery ;
        sh:path eli:passed_by ],
      [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:resultMessage "Dit veld is verplicht."@nl;
        sh:path eli:passed_by ] ;
    form:displayType displayTypes:bestuursorgaanSelect ;
    sh:group fields:aDynamicPropertyGroup .

fields:3dd6ed93-40f7-4d70-a6cb-f4de53dc8bfb a form:Field ;
    mu:uuid "3dd6ed93-40f7-4d70-a6cb-f4de53dc8bfb" ;
    sh:name "Datum zitting/besluit" ;
    sh:order 2600 ;
    sh:path ( [ sh:inversePath besluit:heeftUittreksel ] prov:startedAtTime ) ;  # see https://www.w3.org/TR/shacl/#property-paths for syntax
    form:validations
      [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:resultMessage "Dit is een verplicht veld.";
        sh:path ( [ sh:inversePath besluit:heeftUittreksel ] prov:startedAtTime ) ],
      [ a form:ValidDateTime ;
        form:grouping form:MatchEvery ;
        sh:path ( [ sh:inversePath besluit:heeftUittreksel ] prov:startedAtTime ) ;
        sh:resultMessage "Geeft een geldige datum en tijd op."] ;
    form:displayType displayTypes:dateTime ;
    sh:group fields:aDynamicPropertyGroup .

fields:ba965704-5a74-4a77-b283-4f97f3b7ddbc a form:Field ;
    mu:uuid "ba965704-5a74-4a77-b283-4f97f3b7ddbc" ;
    sh:name "Datum zitting/besluitenlijst" ;
    sh:order 2600 ;
    sh:path ( [ sh:inversePath besluit:heeftBesluitenlijst ] prov:startedAtTime ) ;  # see https://www.w3.org/TR/shacl/#property-paths for syntax
    form:validations
      [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:resultMessage "Dit is een verplicht veld.";
        sh:path ( [ sh:inversePath besluit:heeftBesluitenlijst ] prov:startedAtTime ) ],
      [ a form:ValidDateTime ;
        form:grouping form:MatchEvery ;
        sh:path ( [ sh:inversePath besluit:heeftBesluitenlijst ] prov:startedAtTime ) ;
        sh:resultMessage "Geeft een geldige datum en tijd op."] ;
    form:displayType displayTypes:dateTime ;
    sh:group fields:aDynamicPropertyGroup .

fields:857d670f-9a25-4555-bfe5-ecc48c2ffde3 a form:Field ;
    mu:uuid "857d670f-9a25-4555-bfe5-ecc48c2ffde3" ;
    sh:name "Datum zitting/notulen" ;
    sh:order 2600 ;
    sh:path ( [ sh:inversePath besluit:heeftNotulen ] prov:startedAtTime ) ;  # see https://www.w3.org/TR/shacl/#property-paths for syntax
    form:validations
      [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:resultMessage "Dit is een verplicht veld.";
        sh:path ( [ sh:inversePath besluit:heeftNotulen ] prov:startedAtTime ) ],
      [ a form:ValidDateTime ;
        form:grouping form:MatchEvery ;
        sh:path ( [ sh:inversePath besluit:heeftNotulen ] prov:startedAtTime ) ;
        sh:resultMessage "Geeft een geldige datum en tijd op."] ;
    form:displayType displayTypes:dateTime ;
    sh:group fields:aDynamicPropertyGroup .

fields:720c86f8-4537-44b0-850b-fb3452d8bb2d a form:Field ;
    mu:uuid "720c86f8-4537-44b0-850b-fb3452d8bb2d" ;
    sh:name "Datum zitting/agenda" ;
    sh:order 2600 ;
    sh:path ( [ sh:inversePath besluit:heeftAgenda ] prov:startedAtTime ) ;  # see https://www.w3.org/TR/shacl/#property-paths for syntax
    form:validations
      [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:resultMessage "Dit is een verplicht veld.";
        sh:path ( [ sh:inversePath besluit:heeftAgenda ] prov:startedAtTime ) ],
      [ a form:ValidDateTime ;
        form:grouping form:MatchEvery ;
        sh:path ( [ sh:inversePath besluit:heeftAgenda ] prov:startedAtTime ) ;
        sh:resultMessage "Geeft een geldige datum en tijd op."] ;
    form:displayType displayTypes:dateTime ;
    sh:group fields:aDynamicPropertyGroup .

fields:ef31b839-c461-4732-b35c-a8b6c7507cf1 a form:Field ;
    mu:uuid "ef31b839-c461-4732-b35c-a8b6c7507cf1" ;
    sh:name "MAR-code" ;
    sh:order 5100 ;
    sh:path lblodBesluit:chartOfAccount ;
    form:validations
      [ a form:ConceptSchemeConstraint ; #TODO
        form:grouping form:Bag ;
        sh:path lblodBesluit:chartOfAccount ;
        form:conceptScheme  <http://lblod.data.gift/concept-schemes/b65b15ba-6755-4cd2-bd07-2c2cf3c0e4d3>;
        sh:resultMessage "De waarde komt niet uit de opgegeven codelijst."@nl
      ] ;
    form:options  """{"conceptScheme":"http://lblod.data.gift/concept-schemes/b65b15ba-6755-4cd2-bd07-2c2cf3c0e4d3"}""" ;
    form:displayType displayTypes:conceptSchemeSelector ;
    sh:group fields:aDynamicPropertyGroup .

fields:a1b6c2e1-c1c3-45fb-84e7-cdd241a3130d a form:Field ;
    mu:uuid "a1b6c2e1-c1c3-45fb-84e7-cdd241a3130d" ;
    sh:name "MAR-code" ;
    sh:order 5100 ;
    sh:path lblodBesluit:chartOfAccount ;
    form:validations
      [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:resultMessage "Dit is een verplicht veld.";
        sh:path lblodBesluit:chartOfAccount ],
      [ a form:ConceptSchemeConstraint ; #TODO
        form:grouping form:Bag ;
        sh:path lblodBesluit:chartOfAccount ;
        form:conceptScheme  <http://lblod.data.gift/concept-schemes/b65b15ba-6755-4cd2-bd07-2c2cf3c0e4d3>;
        sh:resultMessage "De waarde komt niet uit de opgegeven codelijst."@nl
      ] ;
    form:options  """{"conceptScheme":"http://lblod.data.gift/concept-schemes/b65b15ba-6755-4cd2-bd07-2c2cf3c0e4d3"}""" ;
    form:displayType displayTypes:conceptSchemeSelector ;
    sh:group fields:aDynamicPropertyGroup .

fields:7793c27f-a41b-4665-a876-da9d94075a70 a form:Field ;
    mu:uuid "7793c27f-a41b-4665-a876-da9d94075a70" ;
    sh:name "Geldt vanaf" ;
    sh:order 5101 ;
    sh:path eli:first_date_entry_in_force ;
    form:validations
      [ a form:ValidDate ;
        form:grouping form:MatchEvery ;
        sh:path eli:first_date_entry_in_force ;
        sh:resultMessage "Geef een geldige datum op."] ;
    form:displayType displayTypes:date ;
    sh:group fields:aDynamicPropertyGroup .

fields:4b32c8fb-9725-4f9f-9872-b04198732483 a form:Field ;
    mu:uuid "4b32c8fb-9725-4f9f-9872-b04198732483" ;
    sh:name "Geldt vanaf" ;
    sh:order 5101 ;
    sh:path eli:first_date_entry_in_force ;
    form:validations
      [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:path eli:first_date_entry_in_force ;
        sh:resultMessage "Dit veld is verplicht."@nl
      ],
      [ a form:ValidDate ;
        form:grouping form:MatchEvery ;
        sh:path eli:first_date_entry_in_force ;
        sh:resultMessage "Geef een geldige datum op."@nl ] ;
    form:displayType displayTypes:date ;
    sh:group fields:aDynamicPropertyGroup .

fields:eeacea67-d327-4952-bbfa-31207823ba87 a form:Field ;
    mu:uuid "eeacea67-d327-4952-bbfa-31207823ba87" ;
    sh:name "Geldt tot" ;
    sh:order 5102 ;
    sh:path eli:date_no_longer_in_force ;
    form:validations
      [ a form:ValidDate ;
        form:grouping form:MatchEvery ;
        sh:path eli:date_no_longer_in_force ;
        sh:resultMessage "Geef een geldige datum op."@nl ] ;
    form:displayType displayTypes:date ;
    sh:group fields:aDynamicPropertyGroup .

fields:3a9f6f7d-2952-4128-84cc-bc8dc3d1ee44 a form:Field ;
    mu:uuid "3a9f6f7d-2952-4128-84cc-bc8dc3d1ee44" ;
    sh:name "Geldt tot" ;
    sh:order 5102 ;
    sh:path eli:date_no_longer_in_force ;
    form:validations
      [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:path eli:date_no_longer_in_force ;
        sh:resultMessage "Dit veld is verplicht."@nl
      ],
      [ a form:ValidDate ;
        form:grouping form:MatchEvery ;
        sh:path eli:date_no_longer_in_force ;
        sh:resultMessage "Geef een geldige datum op."@nl] ;
    form:displayType displayTypes:date ;
    sh:group fields:aDynamicPropertyGroup .

fields:7cd14dfd-81ff-4a5d-8374-5879c5877c4c a form:Field ;
    mu:uuid "7cd14dfd-81ff-4a5d-8374-5879c5877c4c" ;
    sh:name "Soort Belasting" ;
    sh:order 5000 ;
    sh:path lblodBesluit:taxType ;
    form:validations
    [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:path lblodBesluit:taxType ;
        sh:resultMessage "Dit veld is verplicht."@nl
    ],
    [ a form:ConceptSchemeConstraint ; #TODO
        form:grouping form:Bag ;
        sh:path lblodBesluit:taxType ;
        form:conceptScheme <http://lblod.data.gift/concept-schemes/3037c4f4-1c63-43ac-bfc4-b41d098b15a6>  ;
        sh:resultMessage "De waarde komt niet uit de opgegeven codelijst."@nl
      ] ;
    form:options  """{"conceptScheme":"http://lblod.data.gift/concept-schemes/3037c4f4-1c63-43ac-bfc4-b41d098b15a6"}""" ;
    form:displayType displayTypes:conceptSchemeSelector ;
    sh:group fields:aDynamicPropertyGroup .

fields:49dbe1be-877a-4890-8465-1510ff18ce18 a form:Field ;
    mu:uuid "49dbe1be-877a-4890-8465-1510ff18ce18" ;
    sh:name "Datum van publicatie op webtoepassing" ;
    sh:order 3700 ;
    sh:path eli:date_publication ;
    form:validations
      [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:resultMessage "Dit is een verplicht veld.";
        sh:path eli:date_publication ],
      [ a form:ValidDate ;
        form:grouping form:MatchEvery ;
        sh:path eli:date_publication ;
        sh:resultMessage "Geeft een geldige datum op."@nl ] ;
    form:displayType displayTypes:date ;
    sh:group fields:aDynamicPropertyGroup .

fields:e834ec56-2db3-43d8-8a54-baf6cc0463c6 a form:Field ;
    mu:uuid "e834ec56-2db3-43d8-8a54-baf6cc0463c6" ;
    sh:name "Type reglement/verordening" ;
    sh:order 3800 ;
    sh:path rdf:type ;
    form:validations
    [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:path rdf:type ;
        sh:resultMessage "Dit veld is verplicht."@nl
    ],
    [ a form:ConceptSchemeConstraint ; #TODO
        form:grouping form:Bag ;
        sh:path rdf:type ;
        form:conceptScheme <http://lblod.data.gift/concept-schemes/c93ccd41-aee7-488f-86d3-038de890d05a>  ;
        sh:resultMessage "De waarde komt niet uit de opgegeven codelijst."@nl
      ] ;
    form:options  """{"conceptScheme":"http://lblod.data.gift/concept-schemes/c93ccd41-aee7-488f-86d3-038de890d05a"}""" ;
    form:displayType displayTypes:conceptSchemeSelector ;
    sh:group fields:aDynamicPropertyGroup .

fields:c955d641-b9b3-4ec7-9838-c2a477c7e95b a form:Field ;
    mu:uuid "c955d641-b9b3-4ec7-9838-c2a477c7e95b" ;
    sh:name "Links naar documenten" ;
    sh:order 10000 ;
    sh:path ( dct:hasPart nie:url ) ;
    form:validations
     [ a form:UriConstraint ;
        form:grouping form:MatchEvery ;
        sh:resultMessage "Gelieve een geldige URL op te geven.";
         sh:path ( dct:hasPart nie:url ) ];
    form:displayType displayTypes:remoteUrls;
    sh:group fields:aDynamicPropertyGroup .

fields:c955d641-b9b3-4ec7-9838-c2a477c7e95a a form:Field ;
    mu:uuid "c955d641-b9b3-4ec7-9838-c2a477c7e95a" ;
    sh:name "Bestanden" ;
    sh:order 10001 ;
    sh:path nfo:FileDataObject ;
    form:displayType displayTypes:files;
    sh:group fields:aDynamicPropertyGroup .

fields:1ee5132e-28c0-4292-9fe6-24c7be456580 a form:Field ;
    mu:uuid "1ee5132e-28c0-4292-9fe6-24c7be456580" ;
    sh:name "Opcentiem" ;
    sh:order 5001 ;
    sh:path lblodBesluit:taxRate ;
    form:validations [
      a form:VlabelExtraTaxRateOrAmountConstraint ;
      form:grouping form:Bag ;
      sh:path lblodBesluit:taxRate;
      sh:resultMessage "Differentiatie en bedrag opcentiem kunnen niet tegelijk ingevuld worden."
    ],
    [ a form:ValidBoolean ;
        form:grouping form:MatchEvery ;
        sh:path lblodBesluit:hasAdditionalTaxRate ;
        sh:resultMessage "Geen geldige waarde voor differentiatie."@nl
    ],
    [ a form:VlabelSingleInstanceTaxRateOrExtraTaxRate ;
        form:grouping form:Bag ;
        sh:path lblodBesluit:hasAdditionalTaxRate ;
        sh:resultMessage "Slechts één waarde voor differentiatie wordt aanvaard."@nl
    ],
    [ a form:VlabelSingleInstanceTaxRateOrExtraTaxRate ;
        form:grouping form:Bag ;
        sh:path lblodBesluit:taxRate ;
        sh:resultMessage "Slechts één instantie van opcentiem wordt aanvaard"@nl
    ];
    form:displayType displayTypes:vLabelOpcentiem ;
    sh:group fields:aDynamicPropertyGroup .